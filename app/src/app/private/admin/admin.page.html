<ion-header>
    <ion-toolbar>
        <ion-title>admin</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content *ngIf="!isLoggedIn">
    <ion-item>
        <ion-label position="floating">Benutzername</ion-label>
        <ion-input [(ngModel)]="user.username"></ion-input>
    </ion-item>
    <ion-item>
        <ion-label position="floating">Passwort</ion-label>
        <ion-input type="password" [(ngModel)]="user.password"></ion-input>
    </ion-item>
    <ion-button expand="full" (click)="login()">Einloggen</ion-button>
</ion-content>

<ion-content *ngIf="isLoggedIn">
    <ion-item>
        <ion-button expand="full" (click)="createNewSurvey()">Neue Umfrage erstellen</ion-button>
    </ion-item>
    <ion-list>
        <ion-item>
            <ion-grid>
                <ion-row>
                    <ion-col size="6">Name der Umfrage</ion-col>
                    <ion-col size="6">Aktiv</ion-col>
                </ion-row>
            </ion-grid>
        </ion-item>
        <ion-item *ngFor="let survey of surveys">
            <ion-grid>
                <ion-row>
                    <ion-col size="6">{{survey.name}}</ion-col>
                    <ion-col size="6"><ion-toggle [(ngModel)]="survey.isActive" (click)="setSurveyActive(survey)" disabled="{{disableToogleButton}}"></ion-toggle> </ion-col>
                </ion-row>
            </ion-grid>
        </ion-item>
    </ion-list>
</ion-content>